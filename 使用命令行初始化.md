# ğŸ”§ ä½¿ç”¨å‘½ä»¤è¡Œåˆå§‹åŒ–ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

## ğŸ¯ é—®é¢˜

å‰ç«¯åˆå§‹åŒ–ä¸€ç›´å¤±è´¥ï¼Œé”™è¯¯ï¼š`InvalidParameter` åœ¨ç¬¬ 87 è¡Œã€‚

è™½ç„¶æˆ‘ä»¬å·²ç»ï¼š
- âœ… ä¿®å¤äº†å­—æ®µå
- âœ… ä¿®å¤äº†å­—æ®µé¡ºåº
- âœ… ä¿®å¤äº†ç±»å‹
- âœ… æ·»åŠ äº†æ‰€æœ‰å¿…éœ€å­—æ®µ

ä½†é—®é¢˜ä»ç„¶å­˜åœ¨ã€‚

---

## âœ… ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨å‘½ä»¤è¡Œ

### æ–¹æ¡ˆ 1: ä½¿ç”¨åˆå§‹åŒ–è„šæœ¬

```bash
cd contract
ts-node scripts/initialize-program.ts
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. è¯»å–ä½ çš„ Solana CLI é’±åŒ…
2. åˆå§‹åŒ–å…¨å±€é…ç½®
3. æ˜¾ç¤ºäº¤æ˜“ç­¾å

### æ–¹æ¡ˆ 2: ä½¿ç”¨å®Œæ•´æµ‹è¯•è„šæœ¬

```bash
cd contract
ts-node scripts/test-all-functions.ts
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
1. åˆå§‹åŒ–é…ç½®
2. åˆ›å»ºæµ‹è¯•å¸‚åœº
3. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

---

## ğŸ“‹ å‰ææ¡ä»¶

### 1. ç¡®ä¿æœ‰ Solana CLI é’±åŒ…

```bash
# æ£€æŸ¥é’±åŒ…åœ°å€
solana address --url devnet

# å¦‚æœæ²¡æœ‰é’±åŒ…ï¼Œåˆ›å»ºä¸€ä¸ª
solana-keygen new
```

### 2. è·å–æµ‹è¯• SOL

```bash
# è¯·æ±‚ 2 SOL
solana airdrop 2 --url devnet

# æ£€æŸ¥ä½™é¢
solana balance --url devnet
```

### 3. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```bash
cd contract
npm install
# æˆ–
yarn install
```

---

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### æ­¥éª¤ 1: è¿›å…¥åˆçº¦ç›®å½•

```bash
cd contract
```

### æ­¥éª¤ 2: è¿è¡Œåˆå§‹åŒ–è„šæœ¬

```bash
ts-node scripts/initialize-program.ts
```

### æ­¥éª¤ 3: ç­‰å¾…ç¡®è®¤

åº”è¯¥çœ‹åˆ°ï¼š
```
ğŸš€ Initializing Prediction Market Program...

ğŸ“‚ Loading authority keypair from: ~/.config/solana/id.json
ğŸ”‘ Authority: [ä½ çš„åœ°å€]

ğŸ“‹ Configuration:
   Config PDA: [åœ°å€]
   Global Vault: [åœ°å€]
   Team Wallet: [åœ°å€]
   USDC Mint: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
   Swap Fee: 30 bp (0.3%)
   LP Fee: 20 bp (0.2%)
   Whitelist Enabled: false

ğŸ’µ Authority SOL Balance: X.XX SOL

ğŸ“¤ Sending configure transaction...

âœ… Configuration successful!
   Transaction signature: [ç­¾å]
   View on explorer: https://explorer.solana.com/tx/[ç­¾å]?cluster=devnet

ğŸ“– Fetching initialized config...

ğŸ‰ Program initialized successfully!

Final Configuration:
   Admin: [åœ°å€]
   Team Wallet: [åœ°å€]
   USDC Mint: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
   Swap Fee: 30 bp
   LP Fee: 20 bp
   Token Decimals: 6
   Whitelist Enabled: false
   Emergency Stop: false

âœ¨ Initialization complete!
You can now use the prediction market program.
```

---

## ğŸ” å¦‚æœè„šæœ¬å¤±è´¥

### é”™è¯¯ 1: æ‰¾ä¸åˆ°é’±åŒ…æ–‡ä»¶

```
Error: Keypair not found at ~/.config/solana/id.json
```

**è§£å†³**:
```bash
solana-keygen new
```

### é”™è¯¯ 2: ä½™é¢ä¸è¶³

```
Error: insufficient funds
```

**è§£å†³**:
```bash
solana airdrop 2 --url devnet
```

### é”™è¯¯ 3: æƒé™é”™è¯¯

```
Error: IncorrectAuthority
```

**è§£å†³**: ç¡®ä¿ä½ çš„é’±åŒ…åœ°å€æ˜¯ `2eExwMwQPhsAKXKygjpA6VChkr1iMgPugjrX47F6Tkyr`

å¦‚æœä¸æ˜¯ï¼Œéœ€è¦ï¼š
1. å¯¼å…¥æ­£ç¡®çš„é’±åŒ…
2. æˆ–é‡æ–°éƒ¨ç½²åˆçº¦

### é”™è¯¯ 4: Config å·²å­˜åœ¨

```
âš ï¸  Config already exists!
```

**è¿™ä¸æ˜¯é”™è¯¯ï¼** è¯´æ˜é…ç½®å·²ç»åˆå§‹åŒ–è¿‡äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚

---

## âœ… åˆå§‹åŒ–æˆåŠŸå

### éªŒè¯é…ç½®

è®¿é—®å‰ç«¯æ£€æŸ¥é…ç½®çŠ¶æ€ï¼š
```
http://localhost:3000/admin/initialize
```

ç‚¹å‡» "Check Configuration Status"ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
```
âœ… Config exists!
Admin: [åœ°å€]
Team Wallet: [åœ°å€]
Swap Fee: 30 bp
LP Fee: 20 bp
```

### å¼€å§‹æµ‹è¯•

ç°åœ¨å¯ä»¥ï¼š
1. âœ… åˆ›å»ºå¸‚åœº: http://localhost:3000/markets/create
2. âœ… æ·»åŠ æµåŠ¨æ€§
3. âœ… ä¹°å–ä»£å¸

---

## ğŸ› ä¸ºä»€ä¹ˆå‰ç«¯å¤±è´¥ï¼Ÿ

å¯èƒ½çš„åŸå› ï¼š

### 1. Anchor ç‰ˆæœ¬ä¸åŒ¹é…
å‰ç«¯ä½¿ç”¨çš„ Anchor ç‰ˆæœ¬å¯èƒ½ä¸åˆçº¦ç¼–è¯‘æ—¶çš„ç‰ˆæœ¬ä¸åŒã€‚

### 2. IDL åºåˆ—åŒ–é—®é¢˜
JavaScript çš„å¯¹è±¡åºåˆ—åŒ–å¯èƒ½ä¸ Rust çš„æœŸæœ›ä¸å®Œå…¨åŒ¹é…ã€‚

### 3. ç±»å‹è½¬æ¢é—®é¢˜
è™½ç„¶æˆ‘ä»¬ä½¿ç”¨äº†æ­£ç¡®çš„ç±»å‹ï¼Œä½† Anchor çš„ TypeScript ç»‘å®šå¯èƒ½æœ‰é—®é¢˜ã€‚

### 4. å­—æ®µéªŒè¯é¡ºåº
åˆçº¦å¯èƒ½åœ¨ååºåˆ—åŒ–ä¹‹å‰å°±è¿›è¡Œäº†æŸäº›éªŒè¯ã€‚

---

## ğŸ’¡ é•¿æœŸè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ A: æ›´æ–° IDL

é‡æ–°ç”Ÿæˆ IDL æ–‡ä»¶ï¼š
```bash
cd contract
anchor build
cp target/idl/prediction_market.json ../x402-polymarket-frontend/app/lib/solana/
```

### æ–¹æ¡ˆ B: ç®€åŒ–å‰ç«¯

åˆ›å»ºä¸€ä¸ªæ›´ç®€å•çš„åˆå§‹åŒ–æ¥å£ï¼Œåªä¼ é€’æœ€å°‘çš„å¿…éœ€å‚æ•°ã€‚

### æ–¹æ¡ˆ C: ä½¿ç”¨ Anchor å®¢æˆ·ç«¯

ä½¿ç”¨ Anchor çš„å®˜æ–¹å®¢æˆ·ç«¯åº“è€Œä¸æ˜¯æ‰‹åŠ¨æ„é€ å‚æ•°ã€‚

---

## ğŸ¯ ç°åœ¨å°±è¯•è¯•

```bash
cd contract
ts-node scripts/initialize-program.ts
```

å¦‚æœæˆåŠŸï¼Œä½ å°±å¯ä»¥ç»§ç»­ä½¿ç”¨å‰ç«¯æµ‹è¯•æ‰€æœ‰å…¶ä»–åŠŸèƒ½äº†ï¼

---

**å‘½ä»¤è¡Œåˆå§‹åŒ–æ˜¯æœ€å¯é çš„æ–¹æ³•ï¼** ğŸš€
