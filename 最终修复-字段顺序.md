# âœ… æœ€ç»ˆä¿®å¤ - å­—æ®µé¡ºåºå’Œç±»å‹

## ğŸ¯ å‘ç°çš„é—®é¢˜

### é—®é¢˜ 1: å­—æ®µé¡ºåº
Anchor å¯èƒ½å¯¹å­—æ®µé¡ºåºæ•æ„Ÿï¼Œéœ€è¦æŒ‰ç…§ IDL å®šä¹‰çš„é¡ºåºä¼ é€’å‚æ•°ã€‚

### é—®é¢˜ 2: ç±»å‹ä¸åŒ¹é…
æŸäº›æ•°å­—å­—æ®µéœ€è¦ä½¿ç”¨ `BN` ç±»å‹ï¼š
- `u64` å­—æ®µ â†’ ä½¿ç”¨ `new BN(value)`
- `u16` å­—æ®µ â†’ ä½¿ç”¨æ™®é€šæ•°å­—
- `u8` å­—æ®µ â†’ ä½¿ç”¨æ™®é€šæ•°å­—

---

## âœ… å·²ä¿®å¤

### ä¿®å¤ 1: æŒ‰ IDL é¡ºåºæ’åˆ—å­—æ®µ

```typescript
const configParams = {
  // 1-3: æƒé™ç®¡ç† (pubkey)
  authority: wallet.publicKey,
  pending_authority: PublicKey.default,
  team_wallet: teamWalletPubkey,
  
  // 4-7: æ‰‹ç»­è´¹ (u64) - ä½¿ç”¨ BN
  platform_buy_fee: new BN(30),
  platform_sell_fee: new BN(30),
  lp_buy_fee: new BN(20),
  lp_sell_fee: new BN(20),
  
  // 8-10: ä»£å¸é…ç½®
  token_supply_config: new BN(1_000_000_000_000), // u64
  token_decimals_config: 6, // u8 - æ™®é€šæ•°å­—
  initial_real_token_reserves_config: new BN(500_000_000), // u64
  
  // 11-12: æµåŠ¨æ€§é…ç½® (u64)
  min_sol_liquidity: new BN(5_000_000_000),
  min_trading_liquidity: new BN(100_000_000),
  
  // 13-15: çŠ¶æ€æ ‡å¿— (bool)
  initialized: false,
  is_paused: false,
  whitelist_enabled: false,
  
  // 16-18: USDC é…ç½®
  usdc_mint: USDC_MINT_DEVNET, // pubkey
  usdc_vault_min_balance: new BN(1_000_000), // u64
  min_usdc_liquidity: new BN(100_000_000), // u64
  
  // 19-23: ä¿é™©æ± é…ç½®
  lp_insurance_pool_balance: new BN(0), // u64
  lp_insurance_allocation_bps: 2000, // u16 - æ™®é€šæ•°å­—
  insurance_loss_threshold_bps: 1000, // u16
  insurance_max_compensation_bps: 5000, // u16
  insurance_pool_enabled: false, // bool
};
```

### ä¿®å¤ 2: æ­£ç¡®çš„ç±»å‹æ˜ å°„

| Rust ç±»å‹ | TypeScript ç±»å‹ | ç¤ºä¾‹ |
|-----------|----------------|------|
| `pubkey` | `PublicKey` | `wallet.publicKey` |
| `u64` | `BN` | `new BN(1000)` |
| `u32` | `BN` | `new BN(100)` |
| `u16` | `number` | `2000` |
| `u8` | `number` | `6` |
| `bool` | `boolean` | `false` |

---

## ğŸš€ ç°åœ¨æµ‹è¯•

### æ­¥éª¤ 1: å¼ºåˆ¶åˆ·æ–°é¡µé¢
```
http://localhost:3000/admin/initialize
```

æŒ‰ `Ctrl + Shift + R` (Windows/Linux) æˆ– `Cmd + Shift + R` (Mac)

### æ­¥éª¤ 2: æ‰“å¼€æ§åˆ¶å°
æŒ‰ F12ï¼Œåˆ‡æ¢åˆ° Console æ ‡ç­¾

### æ­¥éª¤ 3: åˆå§‹åŒ–é…ç½®
1. è¿æ¥é’±åŒ…
2. ç‚¹å‡» "Check Configuration Status"
3. ç‚¹å‡» "Initialize Configuration"
4. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º

### æ­¥éª¤ 4: æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯

æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š
```
ğŸ” Configuration Parameters:
token_decimals_config: 6
token_supply_config: 1000000000000
initial_real_token_reserves_config: 500000000
Full config: { ... }
```

---

## ğŸ” å¦‚æœè¿˜æ˜¯å¤±è´¥

### æ£€æŸ¥æ§åˆ¶å°è¾“å‡º

1. **token_decimals_config çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ**
   - åº”è¯¥æ˜¯ `6`ï¼ˆæ•°å­—ç±»å‹ï¼‰
   - ä¸åº”è¯¥æ˜¯ `"6"`ï¼ˆå­—ç¬¦ä¸²ï¼‰

2. **token_decimals_config çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿ**
   ```javascript
   typeof configParams.token_decimals_config
   // åº”è¯¥è¾“å‡º: "number"
   ```

3. **æŸ¥çœ‹å®Œæ•´çš„é…ç½®å¯¹è±¡**
   - æ‰€æœ‰ BN å­—æ®µåº”è¯¥æ˜¾ç¤ºä¸ºå­—ç¬¦ä¸²ï¼ˆå› ä¸º JSON.stringifyï¼‰
   - æ‰€æœ‰ PublicKey åº”è¯¥æ˜¾ç¤ºä¸º base58 å­—ç¬¦ä¸²

### æˆªå›¾å¹¶æŠ¥å‘Š

å¦‚æœè¿˜æ˜¯å¤±è´¥ï¼Œè¯·æä¾›ï¼š
1. æ§åˆ¶å°çš„å®Œæ•´è¾“å‡º
2. é”™è¯¯æ¶ˆæ¯
3. `token_decimals_config` çš„å€¼å’Œç±»å‹

---

## ğŸ“Š å®Œæ•´çš„å­—æ®µåˆ—è¡¨

æŒ‰ IDL é¡ºåºï¼š

```
1.  authority: PublicKey
2.  pending_authority: PublicKey
3.  team_wallet: PublicKey
4.  platform_buy_fee: BN (u64)
5.  platform_sell_fee: BN (u64)
6.  lp_buy_fee: BN (u64)
7.  lp_sell_fee: BN (u64)
8.  token_supply_config: BN (u64)
9.  token_decimals_config: number (u8) â­ å¿…é¡»æ˜¯ 6
10. initial_real_token_reserves_config: BN (u64)
11. min_sol_liquidity: BN (u64)
12. min_trading_liquidity: BN (u64)
13. initialized: boolean
14. is_paused: boolean
15. whitelist_enabled: boolean
16. usdc_mint: PublicKey
17. usdc_vault_min_balance: BN (u64)
18. min_usdc_liquidity: BN (u64)
19. lp_insurance_pool_balance: BN (u64)
20. lp_insurance_allocation_bps: number (u16)
21. insurance_loss_threshold_bps: number (u16)
22. insurance_max_compensation_bps: number (u16)
23. insurance_pool_enabled: boolean
```

---

## ğŸ¯ å…³é”®ç‚¹

1. **å­—æ®µé¡ºåºå¾ˆé‡è¦** - å¿…é¡»æŒ‰ IDL é¡ºåº
2. **ç±»å‹å¿…é¡»æ­£ç¡®** - u64 ç”¨ BNï¼Œu16/u8 ç”¨ number
3. **token_decimals_config å¿…é¡»æ˜¯ 6** - è¿™æ˜¯ç¡¬æ€§è¦æ±‚

---

**ç°åœ¨åˆ·æ–°é¡µé¢å¹¶é‡è¯•ï¼** ğŸš€

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘æ§åˆ¶å°æ˜¾ç¤ºçš„ `token_decimals_config` å€¼ã€‚
